# helm upgrade -i kindred-emu opsgoodness/prometheus --namespace monitoring -f helm/prometheus.yaml
---
alertingEndpoints:
  - name: mewing-chipmunk-alertmanager
    namespace: monitoring
    port: 9093
    scheme: http

config: {}
externalUrl: http://prom-test.aws.opsgoodness.net

image:
  repository: quay.io/prometheus/prometheus
  tag: v1.5.2

ingress:
  enabled: true
  annotations:
    kubernetes.io/ingress.class: nginx
    kubernetes.io/tls-acme: "true"

  fqdn: prom-test.aws.opsgoodness.net

  tls:
    - secretName: prom-test.aws.opsgoodness.net
      hosts:
          - prom-test.aws.opsgoodness.net

nodeSelector: {}
paused: false
replicaCount: 1
resources: {}
retention: 24h
routePrefix: "/"
rules: {}

service:
  annotations: {}
  clusterIP: ""
  externalIPs: []
  loadBalancerIP: ""
  loadBalancerSourceRanges: []
  nodePort: 30900
  type: ClusterIP

serviceMonitors:
  - name: aws-cluster-autoscaler
    selector:
      matchLabels:
        app: aws-cluster-autoscaler
        release: interesting-goose

    namespaceSelector:
      matchNames:
        - default

    endpoints:
      - port: "8085"

  - name: nginx-ingress
    selector:
      matchLabels:
        app: nginx-ingress
        component: controller
        release: cranky-albatross

    namespaceSelector:
      matchNames:
        - default

    endpoints:
      - port: metrics

storageSpec:
  class: standard
  resources:
    requests:
      storage: 16Gi
